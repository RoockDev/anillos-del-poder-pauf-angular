<div class="barraBusqueda">
    <div class="acciones">
        <table>
            <tr>
                <td><button id="buscarRaza" routerLink="/buscar-raza">Buscar Raza</button></td>
                <td><button id="crearRaza" routerLink="/crear-raza">Crear Raza</button></td>
            </tr>
        </table>
    </div>
</div>
<div class="card-formulario">
    <h2>Crear Nueva Raza</h2>

    <form [formGroup]="formulario" (ngSubmit)="enviar()">

        <div class="campo">
            <label>Nombre</label>
            <input pInputText type="text" formControlName="nombre" placeholder="Ej: Elfo">
            
            @if (formulario.get('nombre')?.invalid && formulario.get('nombre')?.touched) {
                <small>El nombre es obligatorio (min. 3 caracteres).</small>
            }
        </div>

        <div class="campo">
            <label>Descripción</label>
            <textarea pTextarea formControlName="descripcion" rows="3" placeholder="Breve historia"></textarea>
            
            @if (formulario.get('descripcion')?.invalid && formulario.get('descripcion')?.touched) {
                <small>La descripción es obligatoria (min. 10 caracteres).</small>
            }
        </div>

        <div class="campo">
            <label>Longevidad</label>
            <input pInputText type="text" formControlName="longevidad" placeholder="Ej: Inmortal">
            
            @if (formulario.get('longevidad')?.invalid && formulario.get('longevidad')?.touched) {
                <small>La longevidad es obligatoria.</small>
            }
        </div>

        <div class="campo">
            <label>Nivel de corrupción (0-100)</label>
            <input pInputText type="number" formControlName="nivelCorrupcion" min="0" max="100">
        </div>

        <div class="campo">
            <label>Región principal</label>
            <p-select [options]="regiones" formControlName="regionPrincipal" placeholder="Selecciona una región" [style]="{'width':'100%'}"></p-select>
            
            @if (formulario.get('regionPrincipal')?.invalid && formulario.get('regionPrincipal')?.touched) {
                <small>La región es obligatoria.</small>
            }
        </div>

        <div class="campo">
            <label>Afinidad mágica</label>
            <p-selectbutton [options]="afinidades" formControlName="afinidadMagica"></p-selectbutton>
        </div>

        <div class="botones">
            <button pButton type="submit" label="Guardar Raza" [disabled]="formulario.invalid" (click)="enviar()"></button>
            
            <button pButton type="button" label="limpiar" class="p-button-secondary" (click)="limpiar()"></button>
        </div>

    </form>
</div>
